(function(t){function e(e){for(var r,n,i=e[0],A=e[1],l=e[2],c=0,d=[];c<i.length;c++)n=i[c],o[n]&&d.push(o[n][0]),o[n]=0;for(r in A)Object.prototype.hasOwnProperty.call(A,r)&&(t[r]=A[r]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var A=s[i];0!==o[A]&&(r=!1)}r&&(a.splice(e--,1),t=n(n.s=s[0]))}return t}var r={},o={app:0},a=[];function n(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=r,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],A=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=A;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1cc5":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header",[t.isLoggedIn?t._e():s("router-link",{staticClass:"login blue-hover",attrs:{to:"/login"}},[t._v("Login")]),t.isLoggedIn?s("b-dropdown",{staticClass:"login",attrs:{variant:"link",text:t.user.username}},[s("b-dropdown-item",{staticClass:"blue-hover",attrs:{to:"/create"}},[t._v("\n        Create\n      ")]),s("b-dropdown-item",{staticClass:"blue-hover",on:{click:t.logout}},[t._v("\n        Logout\n      ")])],1):t._e(),s("h1",[s("router-link",{staticClass:"blue-hover",attrs:{to:"/"}},[t._v("This Mother's Journey")])],1),s("nav",[s("router-link",{staticClass:"blue-hover",attrs:{to:"/"}},[t._v("Home")]),s("router-link",{staticClass:"purple-hover",attrs:{to:"/about"}},[t._v("About")]),s("router-link",{staticClass:"pink-hover",attrs:{to:"/blog"}},[t._v("Blog")]),s("router-link",{staticClass:"blue-hover",attrs:{to:"/resources"}},[t._v("Resources")]),s("router-link",{staticClass:"purple-hover",attrs:{to:"/faq"}},[t._v("FAQ")]),s("router-link",{staticClass:"pink-hover",attrs:{to:"/contact"}},[t._v("Contact")])],1)],1),s("router-view",{on:{loggedIn:t.login}}),t._m(0)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("p",[t._v("Heading Photo by "),s("a",{attrs:{href:"https://unsplash.com/photos/-3Dc-I-65ug?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"}},[t._v("Aaron Burden")]),t._v(" on "),s("a",{attrs:{href:"https://unsplash.com/search/photos/hot-air-balloon?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"}},[t._v("Unsplash")])]),s("p",[t._v("Â©2018 by This Mother's Journey")])])}],n=s("8c4f"),i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("About")])])}],l={},u=l,c=s("2877"),d=Object(c["a"])(u,i,A,!1,null,null,null);d.options.__file="About.vue";var m=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Blog")]),t.blogs.loading?s("em",[t._v("Loading blogs...")]):t._e(),t.blogs.length?s("ul",t._l(t.blogs,function(e){return s("div",{key:e.id},[s("h3",[t._v(t._s(e.title))]),s("p",[t._v(t._s(e.body))])])})):t._e()])},v=[];function h(){let t=JSON.parse(sessionStorage.getItem("user"));return t&&t.token?"Bearer "+t.token:{}}function g(t){return t.text().then(e=>{const s=e&&JSON.parse(e);if(!t.ok){401===t.status&&(logout(),location.redirect("/"));const e=s&&s.message||t.statusText;return Promise.reject(e)}return s})}const f={login:b,logout:C};function b(t,e){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e})};return fetch("/api/auth/",s).then(g).then(t=>{return t&&sessionStorage.setItem("user",JSON.stringify(t)),t})}function C(){sessionStorage.removeItem("user")}const w={create:_,getAll:E};function _(t,e){const s={method:"POST",headers:{"Content-Type":"application/json",Authorization:h()},body:JSON.stringify({title:t,body:e})};return fetch("/api/content/",s).then(g).then(t=>{return t})}function E(){const t={method:"GET",headers:{Authorization:h()}};return fetch("/api/content/",t).then(g)}const Q={email:I};function I(t,e,s,r){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,subject:s,message:r})};return fetch("/api/email/",o).then(g)}var y={data(){return{blogs:[]}},created(){this.blogs.loading=!0,w.getAll().then(t=>this.blogs=t.reverse())}},M=y,x=Object(c["a"])(M,p,v,!1,null,null,null);x.options.__file="Blog.vue";var j=x.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contact"}},[s("h2",[t._v("Contact")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"sender"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.name},attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"email",attrs:{htmlFor:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.email},attrs:{type:"text",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"subject"}},[t._v("Subject")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.subject},attrs:{type:"text",name:"subject"},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"message"}},[t._v("Message")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.message},attrs:{type:"text",name:"message"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{attrs:{disabled:t.loading}},[t._v("Send")]),s("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}})]),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e()])])},D=[],G={data(){return{name:"",email:"",subject:"",message:"",submitted:!1,loading:!1,error:""}},methods:{handleSubmit(t){this.submitted=!0;const{name:e,email:s,subject:r,message:o}=this;e&&s&&r&&o?(this.loading=!0,Q.email(e,s,r,o),this.submitted=!1,this.loading=!1,this.name="",this.email="",this.subject="",this.message="",this.error=""):alert("Invalid entry")}}},k=G,J=(s("6d71"),Object(c["a"])(k,B,D,!1,null,null,null));J.options.__file="Contact.vue";var O=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Create")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.title},attrs:{type:"text",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.title,expression:"submitted && !title"}],staticClass:"invalid"},[t._v("Title is required")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"body"}},[t._v("Body")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.body},attrs:{type:"text",name:"body"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.body,expression:"submitted && !body"}],staticClass:"invalid"},[t._v("Body is required")])]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.loading}},[t._v("Create")]),s("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}})]),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e()])])},S=[],Y={data(){return{title:"",body:"",submitted:!1,loading:!1,error:""}},methods:{handleSubmit(t){this.submitted=!0;const{title:e,body:s}=this;e&&s&&(this.loading=!0,w.create(e,s).then(t=>{mt.push("/blog")}))}}},H=Y,P=Object(c["a"])(H,K,S,!1,null,null,null);P.options.__file="Create.vue";var R=P.exports,U=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("FAQ")])])}],N={},L=N,T=Object(c["a"])(L,U,F,!1,null,null,null);T.options.__file="FAQ.vue";var W=T.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[t._m(0),s("router-link",{staticClass:"learn-more",attrs:{to:"/about",tag:"button"}},[t._v("Learn More")]),s("div",[t.blogs.length?s("h2",[t._v("Recent Posts:")]):t._e(),t._l(t.blogs,function(e){return s("div",{key:e.id,staticClass:"blog-box"},[s("p",[t._v(t._s(e.title))])])})],2)],1)},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boxes"},[s("div",{staticClass:"box clients"},[s("h2",[t._v("Clients:")]),s("p",[t._v("Parents, Educators, or Caregivers of people with special needs, and people with special needs.")])]),s("div",{staticClass:"box mission"},[s("h2",[t._v("Our Mission:")]),s("p",[t._v("Help people navigate the joys, frustrations, and challenges of life in relation to special needs.")])]),s("div",{staticClass:"box services"},[s("h2",[t._v("Services:")]),s("p",[t._v("Provide resources and information, emotional support and comic relief.")])])])}],Z={data(){return{blogs:[]}},created(){w.getAll().then(t=>this.blogs=t.reverse().slice(0,2))}},q=Z,$=(s("c219"),Object(c["a"])(q,z,V,!1,null,null,null));$.options.__file="Home.vue";var X=$.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("h2",[t._v("Login")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.username},attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{htmlFor:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{attrs:{disabled:t.loading}},[t._v("Login")]),s("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}})]),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e()])])},et=[],st={data(){return{username:"",password:"",submitted:!1,loading:!1,returnUrl:"",error:""}},created(){f.logout(),this.returnUrl=this.$route.query.returnUrl||"/"},methods:{handleSubmit(t){this.submitted=!0;const{username:e,password:s}=this;e&&s?(this.loading=!0,f.login(e,s).then(t=>{mt.push(this.returnUrl),this.$emit("loggedIn",t)})):alert("Invalid entry")}}},rt=st,ot=(s("7fa3"),Object(c["a"])(rt,tt,et,!1,null,null,null));ot.options.__file="Login.vue";var at=ot.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Resources")])])}],At={},lt=At,ut=Object(c["a"])(lt,nt,it,!1,null,null,null);ut.options.__file="Resources.vue";var ct=ut.exports;r["a"].use(n["a"]);const dt=new n["a"]({mode:"history",routes:[{path:"/about",component:m},{path:"/blog",component:j},{path:"/contact",component:O},{path:"/create",component:R},{path:"/faq",component:W},{path:"/",component:X},{path:"/login",component:at},{path:"/resources",component:ct},{path:"*",redirect:"/"}]});dt.beforeEach((t,e,s)=>{const r=t.path.includes("/create"),o=sessionStorage.getItem("user");if(r&&!o)return s({path:"/login",query:{returnUrl:t.path}});s()});var mt=dt,pt={name:"app",data(){return{user:null}},created(){try{this.user=JSON.parse(sessionStorage.getItem("user"))}catch(t){console.error(t)}},methods:{logout:function(t){this.user=null,sessionStorage.removeItem("user"),t.stopPropagation(),mt.push("/")},login(t){this.user=t}},computed:{isLoggedIn:function(){return!!this.user}}},vt=pt,ht=(s("7faf"),Object(c["a"])(vt,o,a,!1,null,null,null));ht.options.__file="App.vue";var gt=ht.exports,ft=s("9f7b");s("f9e3"),s("2dd8");r["a"].use(ft["a"]),new r["a"]({router:mt,render:t=>t(gt)}).$mount("#app")},"586c":function(t,e,s){},"6d71":function(t,e,s){"use strict";var r=s("a3ba"),o=s.n(r);o.a},"7d40":function(t,e,s){},"7fa3":function(t,e,s){"use strict";var r=s("7d40"),o=s.n(r);o.a},"7faf":function(t,e,s){"use strict";var r=s("586c"),o=s.n(r);o.a},a3ba:function(t,e,s){},c219:function(t,e,s){"use strict";var r=s("1cc5"),o=s.n(r);o.a}});
//# sourceMappingURL=app.2fd7db46.js.map